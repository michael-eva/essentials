(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[666],{378:(e,t,s)=>{"use strict";s.d(t,{h:()=>a,w:()=>r});let r=["Health benefits","Stress relief","Social aspects","Weight management","Athletic performance","Mental wellbeing","Appearance","Doctor's recommendation","Other"],a=["Body measurements","Progress photos","Strength gains","Flexibility improvements","Endurance tracking","Habit tracking","Journaling","Other"]},1224:(e,t,s)=>{"use strict";s.d(t,{S:()=>i});var r=s(4568);s(7620);var a=s(3928);function i(e){let{options:t,selectedValues:s,onChange:i,className:n,pillClassName:l}=e;return(0,r.jsx)("div",{className:(0,a.cn)("flex flex-wrap gap-2",n),children:t.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>i(e),className:(0,a.cn)("px-4 py-2 text-sm rounded-full border transition-colors",s.includes(e)?"bg-primary border-primary text-primary-foreground":"bg-muted border-muted text-muted-foreground",l),children:e},e))})}},2406:(e,t,s)=>{"use strict";s.d(t,{_E:()=>r,d6:()=>i,he:()=>a,kT:()=>n});let r=["Less than 3 months","3-6 months","6-12 months","1-3 years","More than 3 years"],a=["1 time per week","1 - 2 times per month","2 - 3 times per week","3 - 4 times per week","4+ times per week"],i=["Reformer","Tower","Barrels","Cadillacs","Chair","Mat work only","Other"],n=["Group classes","Private sessions","Both","No preference"]},3206:(e,t,s)=>{"use strict";s.d(t,{Ek:()=>a,KI:()=>r,O_:()=>n,yj:()=>i});let r=["Running","Cycling","Swimming","Weightlifting","Yoga","Dance","Team sports","Other"],a=["Beginner","Intermediate","Advanced"],i=["0","1-2","3-4","5+"],n=["Less than 15 minutes","15-30 minutes","30-45 minutes","45-60 minutes","More than 60 minutes"]},3928:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var r=s(2987),a=s(607);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},4049:(e,t,s)=>{"use strict";s.d(t,{C:()=>o,z:()=>l});var r=s(4568);s(7620);var a=s(2424),i=s(1261),n=s(3928);function l(e){let{className:t,...s}=e;return(0,r.jsx)(a.bL,{"data-slot":"radio-group",className:(0,n.cn)("grid gap-3",t),...s})}function o(e){let{className:t,...s}=e;return(0,r.jsx)(a.q7,{"data-slot":"radio-group-item",className:(0,n.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:(0,r.jsx)(a.C1,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,r.jsx)(i.A,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}},4139:(e,t,s)=>{Promise.resolve().then(s.bind(s,5315))},4402:(e,t,s)=>{"use strict";s.d(t,{Y:()=>a,l:()=>r});let r=["Lose weight","Gain muscle","Improve flexibility","Improve balance","Improve posture","Improve sleep","Reduce stress","Other"],a=["1-3 months","3-6 months","6-12 months","More than a year"]},4459:(e,t,s)=>{"use strict";s.d(t,{i:()=>r});let r=["Male","Female","Prefer not to say"]},4675:(e,t,s)=>{"use strict";s.d(t,{bq:()=>u,eb:()=>x,gC:()=>m,l6:()=>d,yv:()=>c});var r=s(4568);s(7620);var a=s(5921),i=s(4711),n=s(4931),l=s(6430),o=s(3928);function d(e){let{...t}=e;return(0,r.jsx)(a.bL,{"data-slot":"select",...t})}function c(e){let{...t}=e;return(0,r.jsx)(a.WT,{"data-slot":"select-value",...t})}function u(e){let{className:t,size:s="default",children:n,...l}=e;return(0,r.jsxs)(a.l9,{"data-slot":"select-trigger","data-size":s,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-brand-warm-brown focus-visible:ring-brand-warm-brown/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-warm transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l,children:[n,(0,r.jsx)(a.In,{asChild:!0,children:(0,r.jsx)(i.A,{className:"size-4 opacity-50"})})]})}function m(e){let{className:t,children:s,position:i="popper",...n}=e;return(0,r.jsx)(a.ZL,{children:(0,r.jsxs)(a.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-warm","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...n,children:[(0,r.jsx)(h,{}),(0,r.jsx)(a.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,r.jsx)(g,{})]})})}function x(e){let{className:t,children:s,...i}=e;return(0,r.jsxs)(a.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-brand-neutral focus:text-brand-warm-brown [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...i,children:[(0,r.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(a.VF,{children:(0,r.jsx)(n.A,{className:"size-4"})})}),(0,r.jsx)(a.p4,{children:s})]})}function h(e){let{className:t,...s}=e;return(0,r.jsx)(a.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,r.jsx)(l.A,{className:"size-4"})})}function g(e){let{className:t,...s}=e;return(0,r.jsx)(a.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,r.jsx)(i.A,{className:"size-4"})})}},5165:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var r=s(4568);s(7620);var a=s(3928);function i(e){let{className:t,type:s,...i}=e;return(0,r.jsx)("input",{type:s,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-warm transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-brand-warm-brown focus-visible:ring-brand-warm-brown/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}},5315:(e,t,s)=>{"use strict";s.d(t,{default:()=>U});var r=s(4568),a=s(1938),i=s(60),n=s(5006),l=s(7620),o=s(5165);function d(e){return(0,r.jsx)(o.p,{...e})}var c=s(4675),u=s(2942);let m=["basic-info","fitness-background","health-considerations","goals","pilates","motivation"];var x=s(7227);function h(e){let{onSubmit:t,isLastStep:s,isFirstStep:a,currentStep:i,isSubmitting:n=!1}=e,o=(0,u.useRouter)(),[d,c]=(0,l.useState)(n),h=async()=>{c(!0);try{if(await t()&&!s){let e=m.indexOf(i),t=m[e+1];o.push("/onboarding/".concat(t))}}catch(e){console.error("Form submission error:",e)}finally{c(!1)}};return(0,r.jsx)("div",{className:"px-8 py-6 bg-gray-50 border-t border-gray-100",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)(x.$,{type:"button",onClick:()=>{if(!a){let e=m.indexOf(i),t=m[e-1];o.push("/onboarding/".concat(t))}},disabled:null!=a?a:d,className:"bg-muted text-muted-foreground rounded-full ".concat(d?"opacity-50 cursor-not-allowed":""),children:"Previous"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(x.$,{variant:"outline",type:"button",onClick:()=>{o.push("/dashboard/overview")},className:"rounded-full",children:"Skip for now"}),(0,r.jsx)(x.$,{type:"button",onClick:h,disabled:d,className:"rounded-full ".concat(d?"opacity-50 cursor-not-allowed":""),children:d?"Processing...":s?"Finish":"Next"})]})]})})}function g(e){let{currentStep:t}=e,s=m.indexOf(t),a=m.length,i=(s+1)/a*100;return(0,r.jsxs)("div",{className:"px-8 pt-8 pb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-2",children:[(0,r.jsxs)("span",{children:["Step ",s+1," of ",a]}),(0,r.jsxs)("span",{children:[Math.round(i),"% Complete"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-1.5",children:(0,r.jsx)("div",{className:"bg-black h-1.5 rounded-full transition-all duration-300",style:{width:"".concat(i,"%")}})})]})}function p(e){let{children:t,...s}=e;return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:py-16",children:(0,r.jsxs)("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden flex flex-col",children:[(0,r.jsx)(g,{currentStep:s.currentStep}),(0,r.jsx)("div",{className:"px-2 py-6 space-y-8 flex-grow",children:t}),(0,r.jsx)(h,{onSubmit:s.onSubmit,isFirstStep:s.isFirstStep,isLastStep:s.isLastStep,currentStep:s.currentStep,isSubmitting:s.isSubmitting})]})})}var v=s(7707),f=s(4338),b=s(4338),y=s(4338);let j=function(e){let t="object"==typeof e.client?e.client:{},s="object"==typeof e.server?e.server:{},r=e.shared,a=e.runtimeEnv?e.runtimeEnv:{...b.env,...e.experimental__runtimeEnv};return function(e){let t=e.runtimeEnvStrict??e.runtimeEnv??f.env;if(e.emptyStringAsUndefined)for(let[e,s]of Object.entries(t))""===s&&delete t[e];if(e.skipValidation)return t;let s="object"==typeof e.client?e.client:{},r="object"==typeof e.server?e.server:{},a="object"==typeof e.shared?e.shared:{},i=e.isServer??("undefined"==typeof window||"Deno"in window),n=function(e,t){let s={},r=[];for(let a in e){let i=e[a],n=t[a],l=i["~standard"].validate(n);if(l instanceof Promise)throw Error(`Validation must be synchronous, but ${a} returned a Promise.`);if(l.issues){r.push(...l.issues.map(e=>({...e,path:[a,...e.path??[]]})));continue}s[a]=l.value}return r.length?{issues:r}:{value:s}}(i?{...r,...a,...s}:{...s,...a},t),l=e.onValidationError??(e=>{throw console.error("❌ Invalid environment variables:",e),Error("Invalid environment variables")}),o=e.onInvalidAccess??(()=>{throw Error("❌ Attempted to access a server-side environment variable on the client")});if(n.issues)return l(n.issues);let d=t=>!e.clientPrefix||!t.startsWith(e.clientPrefix)&&!(t in a),c=e=>i||!d(e),u=e=>"__esModule"===e||"$$typeof"===e,m=(e.extends??[]).reduce((e,t)=>Object.assign(e,t),{});return new Proxy(Object.assign(n.value,m),{get(e,t){if("string"==typeof t&&!u(t))return c(t)?Reflect.get(e,t):o(t)}})}({...e,shared:r,client:t,server:s,clientPrefix:"NEXT_PUBLIC_",runtimeEnv:a})}({server:{NODE_ENV:n.z.enum(["development","test","production"]).default("development"),DATABASE_URL:n.z.string().url(),SUPABASE_SERVICE_ROLE_KEY:n.z.string(),RESEND_API_KEY:n.z.string(),OPENAI_API_KEY:n.z.string(),WEBHOOK_API_KEY:n.z.string()},client:{NEXT_PUBLIC_USER_ROLE:n.z.enum(["DEVELOPER","USER"]).default("USER"),NEXT_PUBLIC_SUPABASE_URL:n.z.string().url(),NEXT_PUBLIC_SUPABASE_ANON_KEY:n.z.string()},runtimeEnv:{NODE_ENV:"production",DATABASE_URL:y.env.DATABASE_URL,NEXT_PUBLIC_USER_ROLE:"DEVELOPER",NEXT_PUBLIC_SUPABASE_URL:"https://rflvcogfitcffdappsuz.supabase.co",NEXT_PUBLIC_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJmbHZjb2dmaXRjZmZkYXBwc3V6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcxOTcyNzgsImV4cCI6MjA2Mjc3MzI3OH0.zVNAVlaN30AFyCdduvsFdU0CjB9n3_ftCfXa8aX8Wds",SUPABASE_SERVICE_ROLE_KEY:y.env.SUPABASE_SERVICE_ROLE_KEY,RESEND_API_KEY:y.env.RESEND_API_KEY,OPENAI_API_KEY:y.env.OPENAI_API_KEY,WEBHOOK_API_KEY:y.env.WEBHOOK_API_KEY},skipValidation:!!y.env.SKIP_ENV_VALIDATION,emptyStringAsUndefined:!0}),N=()=>"DEVELOPER"===j.NEXT_PUBLIC_USER_ROLE;var w=s(4459);let S=n.z.object({name:n.z.string().min(1,"Name is required"),age:n.z.preprocess(e=>{if(""===e||null==e)return;let t="number"==typeof e?e:Number(e);return isNaN(t)?void 0:t},n.z.number({required_error:"Age is required"}).min(0,"Age must be positive").max(120,"Age seems invalid")),height:n.z.preprocess(e=>{if(""===e||null==e)return;let t="number"==typeof e?e:Number(e);return isNaN(t)?void 0:t},n.z.number({required_error:"Height is required"}).min(0,"Height must be positive").max(300,"Height seems invalid")),weight:n.z.preprocess(e=>{if(""===e||null==e)return;let t="number"==typeof e?e:Number(e);return isNaN(t)?void 0:t},n.z.number({required_error:"Weight is required"}).min(0,"Weight must be positive").max(500,"Weight seems invalid")),gender:n.z.enum(w.i,{required_error:"Gender is required"})});function k(e){let{isFirstStep:t,isLastStep:s,currentStep:n}=e,[o,u]=(0,l.useState)(!1),{register:m,handleSubmit:x,formState:{errors:h},control:g}=(0,a.mN)({resolver:(0,i.u)(S),mode:"onChange",defaultValues:{name:N()?"Developer User":"",age:N()?25:void 0,height:N()?170:void 0,weight:N()?70:void 0,gender:N()?"Prefer not to say":void 0}}),{mutate:f}=v.F.onboarding.postBasicQuestions.useMutation(),b=async()=>{u(!0);try{let e=!1;return await x(async t=>{f(t),e=!0})(),e}catch(e){return console.error("Form validation failed:",e),!1}finally{u(!1)}};return(0,r.jsx)(p,{onSubmit:b,isFirstStep:t,isLastStep:s,currentStep:n,isSubmitting:o,children:(0,r.jsxs)("form",{className:"space-y-8 max-w-md mx-auto px-2",children:[(0,r.jsx)("h2",{className:"text-2xl font-medium text-gray-900",children:"Basic Information"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Tell us a bit about yourself to personalize your experience."}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"What is your name?"}),h.name&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.name.message}),(0,r.jsx)(d,{...m("name"),type:"text",id:"name",className:"block w-full rounded-md border-gray-200 shadow-sm focus:border-gray-900 focus:ring-gray-900 px-4 py-3",placeholder:"Enter your name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 mb-2",children:"What is your age?"}),h.age&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.age.message}),(0,r.jsx)(d,{...m("age",{valueAsNumber:!0}),type:"number",id:"age",className:"block w-full rounded-md border-gray-200 shadow-sm focus:border-gray-900 focus:ring-gray-900 px-4 py-3",placeholder:"Enter your age"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"height",className:"block text-sm font-medium text-gray-700 mb-2",children:"What is your height? (cm)"}),h.height&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.height.message}),(0,r.jsx)(d,{...m("height",{valueAsNumber:!0}),type:"number",id:"height",className:"block w-full rounded-md border-gray-200 shadow-sm focus:border-gray-900 focus:ring-gray-900 px-4 py-3",placeholder:"Enter your height in cm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700 mb-2",children:"What is your weight? (kg)"}),h.weight&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.weight.message}),(0,r.jsx)(d,{...m("weight",{valueAsNumber:!0}),type:"number",id:"weight",className:"block w-full rounded-md border-gray-200 shadow-sm focus:border-gray-900 focus:ring-gray-900 px-4 py-3",placeholder:"Enter your weight in kg"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700 mb-2",children:"What is your gender?"}),h.gender&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.gender.message}),(0,r.jsx)(a.xI,{name:"gender",control:g,render:e=>{let{field:t}=e;return(0,r.jsxs)(c.l6,{onValueChange:t.onChange,value:t.value,defaultValue:t.value,children:[(0,r.jsx)(c.bq,{className:"w-full rounded-md border-gray-200 px-4 py-3 focus:border-gray-900 focus:ring-gray-900",children:(0,r.jsx)(c.yv,{placeholder:"Select gender"})}),(0,r.jsx)(c.gC,{className:"rounded-md",children:w.i.map(e=>(0,r.jsx)(c.eb,{value:e,children:e},e))})]})}})]})]})]})})}var E=s(1224),C=s(3206);let P=n.z.object({fitnessLevel:n.z.enum(C.Ek,{required_error:"Fitness level is required"}),exercises:n.z.array(n.z.string()).min(1,"Please select at least one exercise"),otherExercises:n.z.array(n.z.string()).optional(),exerciseFrequency:n.z.enum(C.yj,{required_error:"Exercise frequency is required"}),sessionLength:n.z.enum(C.O_,{required_error:"Session length is required"}),customExercise:n.z.string().optional()}).refine(e=>!e.exercises.includes("Other")||e.otherExercises&&e.otherExercises.length>0,{message:"Please add at least one custom exercise",path:["otherExercises"]});function _(e){var t,s;let{isFirstStep:n,isLastStep:o,currentStep:u}=e,[m,h]=(0,l.useState)(!1),{register:g,handleSubmit:f,formState:{errors:b},control:y,watch:j,setValue:w}=(0,a.mN)({resolver:(0,i.u)(P),mode:"onChange",defaultValues:{fitnessLevel:N()?"Intermediate":void 0,exercises:N()?["Running"]:[],otherExercises:N()?[]:void 0,exerciseFrequency:N()?"3-4":void 0,sessionLength:N()?"30-45 minutes":void 0,customExercise:N()?"":void 0}}),{mutate:S}=v.F.onboarding.postFitnessBackground.useMutation(),k=e=>{let t=j("exercises");w("exercises",t.includes(e)?t.filter(t=>t!==e):[...t,e])},_=e=>{var t;w("otherExercises",(null!=(t=j("otherExercises"))?t:[]).filter(t=>t!==e))},z=async()=>{h(!0);try{let e=!1;return await f(async t=>{S(t),e=!0})(),e}catch(e){return console.error("Form validation failed:",e),!1}finally{h(!1)}},A=j("otherExercises");return(0,r.jsx)(p,{onSubmit:z,isFirstStep:n,isLastStep:o,currentStep:u,isSubmitting:m,children:(0,r.jsxs)("form",{className:"space-y-8 max-w-md mx-auto px-2",children:[(0,r.jsx)("h2",{className:"text-2xl font-medium text-gray-900",children:"Fitness Background"}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"fitness-level",className:"block text-sm font-medium text-gray-700",children:"How would you rate your current fitness level?"}),b.fitnessLevel&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.fitnessLevel.message}),(0,r.jsx)(a.xI,{name:"fitnessLevel",control:y,render:e=>{let{field:t}=e;return(0,r.jsxs)(c.l6,{onValueChange:t.onChange,value:t.value,children:[(0,r.jsx)(c.bq,{className:"w-full",children:(0,r.jsx)(c.yv,{placeholder:"Select level"})}),(0,r.jsx)(c.gC,{children:C.Ek.map(e=>(0,r.jsx)(c.eb,{value:e,children:e},e))})]})}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"What forms of exercise do you currently engage in?"}),b.exercises&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.exercises.message}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(a.xI,{name:"exercises",control:y,render:e=>{let{field:t}=e;return(0,r.jsx)(E.S,{options:C.KI,selectedValues:t.value,onChange:k})}})}),(null==(t=j("exercises"))?void 0:t.includes("Other"))&&(0,r.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(d,{...g("customExercise"),type:"text",placeholder:"Add custom exercise",className:"flex-1 rounded-md shadow-sm focus:ring-indigo-500 sm:text-sm ".concat(b.otherExercises?"border-red-500 focus:border-red-500":"border-gray-300 focus:border-indigo-500")}),(0,r.jsx)(x.$,{type:"button",onClick:()=>{var e,t;let s=null!=(e=j("customExercise"))?e:"";s.trim()&&(w("otherExercises",[...null!=(t=j("otherExercises"))?t:[],s]),w("customExercise",""))},className:"rounded-md",children:"Add"})]}),b.otherExercises&&(0,r.jsx)("p",{className:"text-sm text-red-600",children:b.otherExercises.message}),A&&A.length>0&&(0,r.jsx)("div",{className:"space-y-2",children:null==(s=j("otherExercises"))?void 0:s.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded-md",children:[(0,r.jsx)("span",{className:"text-sm text-gray-700",children:e}),(0,r.jsx)("button",{type:"button",onClick:()=>_(e),className:"text-red-600 hover:text-red-800",children:"Remove"})]},e))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"exercise-frequency",className:"block text-sm font-medium text-gray-700",children:"How many days per week do you currently exercise?"}),b.exerciseFrequency&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.exerciseFrequency.message}),(0,r.jsx)(a.xI,{name:"exerciseFrequency",control:y,render:e=>{let{field:t}=e;return(0,r.jsxs)(c.l6,{onValueChange:t.onChange,value:t.value,children:[(0,r.jsx)(c.bq,{className:"w-full",children:(0,r.jsx)(c.yv,{placeholder:"Select frequency"})}),(0,r.jsx)(c.gC,{children:C.yj.map(e=>(0,r.jsx)(c.eb,{value:e,children:e},e))})]})}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"session-length",className:"block text-sm font-medium text-gray-700",children:"How long are your typical workout sessions?"}),b.sessionLength&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.sessionLength.message}),(0,r.jsx)(a.xI,{name:"sessionLength",control:y,render:e=>{let{field:t}=e;return(0,r.jsxs)(c.l6,{onValueChange:t.onChange,value:t.value,children:[(0,r.jsx)(c.bq,{className:"w-full",children:(0,r.jsx)(c.yv,{placeholder:"Select duration"})}),(0,r.jsx)(c.gC,{children:C.O_.map(e=>(0,r.jsx)(c.eb,{value:e,children:e},e))})]})}})]})]})]})})}var z=s(4049),A=s(7129),I=s(7840);let F=n.z.object({injuries:n.z.boolean({required_error:"Please indicate if you have any injuries"}),injuriesDetails:n.z.string().optional(),recentSurgery:n.z.boolean({required_error:"Please indicate if you've had recent surgery"}),surgeryDetails:n.z.string().optional(),chronicConditions:n.z.array(n.z.string()).min(1,"Please select at least one option"),otherHealthConditions:n.z.array(n.z.string()).optional(),pregnancy:n.z.enum(I.b,{required_error:"Please select your pregnancy status"})}).refine(e=>!e.injuries||e.injuries&&e.injuriesDetails&&""!==e.injuriesDetails.trim(),{message:"Please describe your injuries or limitations",path:["injuriesDetails"]}).refine(e=>!e.recentSurgery||e.recentSurgery&&e.surgeryDetails&&""!==e.surgeryDetails.trim(),{message:"Please provide details about your surgery and recovery timeline",path:["surgeryDetails"]}).refine(e=>!e.chronicConditions.includes("Other")||e.otherHealthConditions&&e.otherHealthConditions.length>0,{message:"Please add at least one custom health condition",path:["otherHealthConditions"]});function D(e){var t;let{isFirstStep:s,isLastStep:n,currentStep:o}=e,[u,m]=(0,l.useState)(!1),[x,h]=(0,l.useState)(""),{handleSubmit:g,formState:{errors:f},control:b,watch:y,setValue:j,setError:w,clearErrors:S,trigger:k}=(0,a.mN)({resolver:(0,i.u)(F),mode:"onChange",defaultValues:{injuries:!N()&&void 0,injuriesDetails:N()?"":void 0,recentSurgery:!N()&&void 0,surgeryDetails:N()?"":void 0,chronicConditions:N()?["Back pain"]:[],otherHealthConditions:N()?[]:void 0,pregnancy:N()?"Pregnant":void 0}}),{mutate:C}=v.F.onboarding.postHealthConsiderations.useMutation(),P=y("injuries"),_=y("recentSurgery"),D=e=>{var t;j("injuries",e,{shouldValidate:!0}),e&&(null==(t=y("injuriesDetails"))?void 0:t.trim())===""?w("injuriesDetails",{type:"custom",message:"Please describe your injuries or limitations"}):e||S("injuriesDetails")},O=e=>{var t;j("recentSurgery",e,{shouldValidate:!0}),e&&(null==(t=y("surgeryDetails"))?void 0:t.trim())===""?w("surgeryDetails",{type:"custom",message:"Please provide details about your surgery and recovery timeline"}):e||S("surgeryDetails")},L=e=>{let t=y("chronicConditions");j("chronicConditions",t.includes(e)?t.filter(t=>t!==e):[...t,e])},T=e=>{var t;j("otherHealthConditions",(null!=(t=y("otherHealthConditions"))?t:[]).filter(t=>t!==e))},V=async()=>{var e,t;if(P&&!(null==(e=y("injuriesDetails"))?void 0:e.trim()))return w("injuriesDetails",{type:"custom",message:"Please describe your injuries or limitations"}),!1;if(_&&!(null==(t=y("surgeryDetails"))?void 0:t.trim()))return w("surgeryDetails",{type:"custom",message:"Please provide details about your surgery and recovery timeline"}),!1;let s=y("chronicConditions"),r=y("otherHealthConditions");if(s.includes("Other")&&(!r||0===r.length))return w("otherHealthConditions",{type:"custom",message:"Please add at least one custom health condition"}),!1;let a=!1;return await g(async e=>{m(!0);try{C(e),a=!0}catch(e){console.error("Form validation failed:",e),a=!1}finally{m(!1)}})(),a};return(0,r.jsx)(p,{onSubmit:V,isFirstStep:s,isLastStep:n,currentStep:o,isSubmitting:u,children:(0,r.jsxs)("form",{className:"space-y-8 max-w-md mx-auto px-2",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Health Considerations"}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Do you have any injuries or physical limitations?"}),f.injuries&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.injuries.message}),(0,r.jsx)(a.xI,{name:"injuries",control:b,render:e=>{let{field:t}=e;return(0,r.jsxs)(z.z,{onValueChange:e=>D("true"===e),value:void 0!==t.value?t.value.toString():void 0,className:"flex space-x-4 mt-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(z.C,{value:"true",id:"injuries-yes"}),(0,r.jsx)("label",{htmlFor:"injuries-yes",className:"text-sm",children:"Yes"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(z.C,{value:"false",id:"injuries-no"}),(0,r.jsx)("label",{htmlFor:"injuries-no",className:"text-sm",children:"No"})]})]})}})]}),P&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"injuries-details",className:"block text-sm font-medium text-gray-700",children:"Please describe your injuries or limitations:"}),f.injuriesDetails&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.injuriesDetails.message}),(0,r.jsx)(a.xI,{name:"injuriesDetails",control:b,render:e=>{let{field:t}=e;return(0,r.jsx)(A.T,{...t,id:"injuries-details",rows:3,className:"mt-1 block w-full rounded-md shadow-sm focus:ring-indigo-500 sm:text-sm ".concat(f.injuriesDetails?"border-red-500 focus:border-red-500":"border-gray-300 focus:border-indigo-500"),placeholder:"Please provide details about your injuries or limitations...",onBlur:()=>{var e;P&&(null==(e=t.value)?void 0:e.trim())===""?w("injuriesDetails",{type:"custom",message:"Please describe your injuries or limitations"}):k("injuriesDetails")}})}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Are you recovering from any recent surgeries?"}),f.recentSurgery&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.recentSurgery.message}),(0,r.jsx)(a.xI,{name:"recentSurgery",control:b,render:e=>{let{field:t}=e;return(0,r.jsxs)(z.z,{onValueChange:e=>O("true"===e),value:void 0!==t.value?t.value.toString():void 0,className:"flex space-x-4 mt-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(z.C,{value:"true",id:"surgery-yes"}),(0,r.jsx)("label",{htmlFor:"surgery-yes",className:"text-sm",children:"Yes"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(z.C,{value:"false",id:"surgery-no"}),(0,r.jsx)("label",{htmlFor:"surgery-no",className:"text-sm",children:"No"})]})]})}})]}),_&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"surgery-details",className:"block text-sm font-medium text-gray-700",children:"Please provide details about your surgery and recovery timeline:"}),f.surgeryDetails&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.surgeryDetails.message}),(0,r.jsx)(a.xI,{name:"surgeryDetails",control:b,render:e=>{let{field:t}=e;return(0,r.jsx)(A.T,{...t,id:"surgery-details",rows:3,className:"mt-1 block w-full rounded-md shadow-sm focus:ring-indigo-500 sm:text-sm ".concat(f.surgeryDetails?"border-red-500 focus:border-red-500":"border-gray-300 focus:border-indigo-500"),placeholder:"Please provide details about your surgery and recovery timeline...",onBlur:()=>{var e;_&&(null==(e=t.value)?void 0:e.trim())===""?w("surgeryDetails",{type:"custom",message:"Please provide details about your surgery and recovery timeline"}):k("surgeryDetails")}})}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-base font-medium text-gray-700 mb-4",children:"Do you have any chronic health conditions?"}),f.chronicConditions&&(0,r.jsx)("p",{className:"mb-2 text-sm text-red-600",children:f.chronicConditions.message}),(0,r.jsx)(a.xI,{name:"chronicConditions",control:b,render:e=>{let{field:t}=e;return(0,r.jsx)(E.S,{options:I.e,selectedValues:t.value,onChange:L})}}),y("chronicConditions").includes("Other")&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,r.jsx)(d,{type:"text",value:x,onChange:e=>h(e.target.value),placeholder:"Add custom condition",className:"flex-1 rounded-md shadow-sm focus:ring-indigo-500 sm:text-sm ".concat(f.otherHealthConditions?"border-red-500 focus:border-red-500":"border-gray-300 focus:border-indigo-500")}),(0,r.jsx)("button",{type:"button",onClick:()=>{if(x.trim()){var e;j("otherHealthConditions",[...null!=(e=y("otherHealthConditions"))?e:[],x]),h("")}},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Add"})]}),f.otherHealthConditions&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:f.otherHealthConditions.message}),(0,r.jsx)("div",{className:"mt-3 space-y-2",children:null==(t=y("otherHealthConditions"))?void 0:t.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded-md",children:[(0,r.jsx)("span",{className:"text-sm text-gray-700",children:e}),(0,r.jsx)("button",{type:"button",onClick:()=>T(e),className:"text-red-600 hover:text-red-800",children:"Remove"})]},e))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"pregnancy",className:"block text-sm font-medium text-gray-700",children:"Are you pregnant or postpartum?"}),f.pregnancy&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.pregnancy.message}),(0,r.jsx)(a.xI,{name:"pregnancy",control:b,render:e=>{let{field:t}=e;return(0,r.jsxs)(c.l6,{onValueChange:t.onChange,value:t.value,defaultValue:t.value,children:[(0,r.jsx)(c.bq,{className:"w-full",children:(0,r.jsx)(c.yv,{placeholder:"Select status"})}),(0,r.jsx)(c.gC,{children:I.b.map(e=>(0,r.jsx)(c.eb,{value:e,children:e},e))})]})}})]})]})]})})}var O=s(4402);let L=n.z.object({fitnessGoals:n.z.array(n.z.string()).min(1,"Please select at least one goal"),goalTimeline:n.z.enum(O.Y,{required_error:"Please select your goal timeline"}),specificGoals:n.z.string().optional()});function T(e){let{isFirstStep:t,isLastStep:s,currentStep:n}=e,[o,d]=(0,l.useState)(!1),{handleSubmit:u,formState:{errors:m},control:x,watch:h,setValue:g}=(0,a.mN)({resolver:(0,i.u)(L),mode:"onChange",defaultValues:{fitnessGoals:N()?["Lose weight"]:[],goalTimeline:N()?"3-6 months":void 0,specificGoals:N()?"Developer testing":""}}),{mutate:f}=v.F.onboarding.postFitnessGoals.useMutation(),b=e=>{let t=h("fitnessGoals");g("fitnessGoals",t.includes(e)?t.filter(t=>t!==e):[...t,e])},y=async()=>{d(!0);try{let e=!1;return await u(async t=>{f(t),e=!0})(),e}catch(e){return console.error("Form validation failed:",e),!1}finally{d(!1)}};return(0,r.jsx)(p,{onSubmit:y,isFirstStep:t,isLastStep:s,currentStep:n,isSubmitting:o,children:(0,r.jsxs)("form",{className:"space-y-8 max-w-md mx-auto px-2",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your Fitness Goals"}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-base font-medium text-gray-700 mb-4",children:"What are your primary fitness goals? (Select all that apply)"}),m.fitnessGoals&&(0,r.jsx)("p",{className:"mb-2 text-sm text-red-600",children:m.fitnessGoals.message}),(0,r.jsx)(a.xI,{name:"fitnessGoals",control:x,render:e=>{let{field:t}=e;return(0,r.jsx)(E.S,{options:O.l,selectedValues:t.value,onChange:b})}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"goal-timeline",className:"block text-base font-medium text-gray-700 mb-4",children:"What is your timeline for achieving these goals?"}),m.goalTimeline&&(0,r.jsx)("p",{className:"mb-2 text-sm text-red-600",children:m.goalTimeline.message}),(0,r.jsx)(a.xI,{name:"goalTimeline",control:x,render:e=>{let{field:t}=e;return(0,r.jsxs)(c.l6,{onValueChange:t.onChange,value:t.value,defaultValue:t.value,children:[(0,r.jsx)(c.bq,{className:"w-full",children:(0,r.jsx)(c.yv,{placeholder:"Select timeline"})}),(0,r.jsx)(c.gC,{children:O.Y.map(e=>(0,r.jsx)(c.eb,{value:e,children:e},e))})]})}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"specific-goals",className:"block text-sm font-medium text-gray-700",children:"Do you have any specific goals or milestones?"}),m.specificGoals&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.specificGoals.message}),(0,r.jsx)(a.xI,{name:"specificGoals",control:x,render:e=>{let{field:t}=e;return(0,r.jsx)(A.T,{...t,id:"specific-goals",rows:3,className:"mt-1 block w-full rounded-md shadow-sm focus:ring-indigo-500 sm:text-sm ".concat(m.specificGoals?"border-red-500 focus:border-red-500":"border-gray-300 focus:border-indigo-500"),placeholder:"E.g., Run 5k, Lose 10kg, etc."})}})]})]})]})})}var V=s(378);let q=n.z.object({motivation:n.z.array(n.z.string()).min(1,"Please select at least one motivation factor"),otherMotivation:n.z.array(n.z.string()).optional(),progressTracking:n.z.array(n.z.string()).min(1,"Please select at least one progress tracking method"),otherProgressTracking:n.z.array(n.z.string()).optional()}).refine(e=>!e.motivation.includes("Other")||e.otherMotivation&&e.otherMotivation.length>0,{message:"Please add at least one custom motivation",path:["otherMotivation"]}).refine(e=>!e.progressTracking.includes("Other")||e.otherProgressTracking&&e.otherProgressTracking.length>0,{message:"Please add at least one custom tracking method",path:["otherProgressTracking"]});function R(e){var t,s;let{isFirstStep:n,isLastStep:o,currentStep:c}=e,[m,x]=(0,l.useState)(!1),[h,g]=(0,l.useState)(""),[f,b]=(0,l.useState)(""),{register:y,handleSubmit:j,formState:{errors:w,isValid:S},control:k,watch:C,setValue:P}=(0,a.mN)({resolver:(0,i.u)(q),mode:"onChange",defaultValues:{motivation:N()?["Health benefits","Other"]:[],otherMotivation:N()?["Developer testing"]:[],progressTracking:N()?["Body measurements","Other"]:[],otherProgressTracking:N()?["Developer testing"]:[]}}),_=(0,u.useRouter)(),{mutate:z}=v.F.onboarding.postMotivation.useMutation(),A=e=>{let t=C("motivation");P("motivation",t.includes(e)?t.filter(t=>t!==e):[...t,e])},I=e=>{let t=C("progressTracking");P("progressTracking",t.includes(e)?t.filter(t=>t!==e):[...t,e])},F=e=>{var t;P("otherMotivation",(null!=(t=C("otherMotivation"))?t:[]).filter(t=>t!==e))},D=e=>{var t;P("otherProgressTracking",(null!=(t=C("otherProgressTracking"))?t:[]).filter(t=>t!==e))},O=async()=>{x(!0);try{return await j(async e=>{z(e),_.push("/dashboard/landing")},e=>{console.error("Form validation errors:",e)})(),!0}catch(e){return console.error("Form submission failed:",e),!1}finally{x(!1)}};return(0,r.jsx)(p,{onSubmit:O,isFirstStep:n,isLastStep:o,currentStep:c,isSubmitting:m,children:(0,r.jsxs)("form",{className:"space-y-8 max-w-md mx-auto px-2",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Motivation & Preferences"}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-base font-medium text-gray-700 mb-4",children:"What motivates you to exercise?"}),w.motivation&&(0,r.jsx)("p",{className:"mb-2 text-sm text-red-600",children:w.motivation.message}),(0,r.jsx)(a.xI,{name:"motivation",control:k,render:e=>{let{field:t}=e;return(0,r.jsx)(E.S,{options:V.w,selectedValues:t.value,onChange:A})}}),C("motivation").includes("Other")&&(0,r.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,r.jsx)(d,{value:h,onChange:e=>g(e.target.value),type:"text",placeholder:"Add custom motivation",className:"flex-1 rounded-md shadow-sm focus:ring-indigo-500 sm:text-sm ".concat(w.otherMotivation?"border-red-500 focus:border-red-500":"border-gray-300 focus:border-indigo-500")}),(0,r.jsx)("button",{type:"button",onClick:()=>{if(h.trim()){var e;P("otherMotivation",[...null!=(e=C("otherMotivation"))?e:[],h]),g("")}},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Add"})]}),w.otherMotivation&&C("motivation").includes("Other")&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:w.otherMotivation.message}),(0,r.jsx)("div",{className:"mt-3 space-y-2",children:null==(t=C("otherMotivation"))?void 0:t.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded-md",children:[(0,r.jsx)("span",{className:"text-sm text-gray-700",children:e}),(0,r.jsx)("button",{type:"button",onClick:()=>F(e),className:"text-red-600 hover:text-red-800",children:"Remove"})]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-base font-medium text-gray-700 mb-4",children:"How would you like to track your progress?"}),w.progressTracking&&(0,r.jsx)("p",{className:"mb-2 text-sm text-red-600",children:w.progressTracking.message}),(0,r.jsx)(a.xI,{name:"progressTracking",control:k,render:e=>{let{field:t}=e;return(0,r.jsx)(E.S,{options:V.h,selectedValues:t.value,onChange:I})}}),C("progressTracking").includes("Other")&&(0,r.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,r.jsx)(d,{value:f,onChange:e=>b(e.target.value),type:"text",placeholder:"Add custom tracking method",className:"flex-1 rounded-md shadow-sm focus:ring-indigo-500 sm:text-sm ".concat(w.otherProgressTracking?"border-red-500 focus:border-red-500":"border-gray-300 focus:border-indigo-500")}),(0,r.jsx)("button",{type:"button",onClick:()=>{if(f.trim()){var e;P("otherProgressTracking",[...null!=(e=C("otherProgressTracking"))?e:[],f]),b("")}},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Add"})]}),w.otherProgressTracking&&C("progressTracking").includes("Other")&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:w.otherProgressTracking.message}),(0,r.jsx)("div",{className:"mt-3 space-y-2",children:null==(s=C("otherProgressTracking"))?void 0:s.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded-md",children:[(0,r.jsx)("span",{className:"text-sm text-gray-700",children:e}),(0,r.jsx)("button",{type:"button",onClick:()=>D(e),className:"text-red-600 hover:text-red-800",children:"Remove"})]},e))})]})]})]})})}var H=s(2406);let B=n.z.object({pilatesExperience:n.z.boolean({required_error:"Please indicate if you have Pilates experience"}),pilatesDuration:n.z.enum(H._E).optional(),studioFrequency:n.z.enum(H.he,{required_error:"Please select how often you can attend in-studio sessions"}),sessionPreference:n.z.enum(H.kT,{required_error:"Please select your session preference"}),apparatusPreference:n.z.array(n.z.string()).min(1,"Please select at least one apparatus preference"),customApparatus:n.z.string().optional()}).refine(e=>!e.pilatesExperience||void 0!==e.pilatesDuration,{message:"Please select your Pilates experience duration",path:["pilatesDuration"]});function M(e){let{isFirstStep:t,isLastStep:s,currentStep:n}=e,[o,u]=(0,l.useState)(!1),{register:m,handleSubmit:x,formState:{errors:h},control:g,watch:f,setValue:b}=(0,a.mN)({resolver:(0,i.u)(B),mode:"onChange",defaultValues:{pilatesExperience:!N()&&void 0,pilatesDuration:N()?"3-6 months":void 0,studioFrequency:N()?"1 time per week":void 0,sessionPreference:N()?"Group classes":void 0,apparatusPreference:N()?["Reformer","Cadillac"]:[],customApparatus:""}}),{mutate:y}=v.F.onboarding.postPilatesExperience.useMutation(),j=f("pilatesExperience"),w=e=>{let t=f("apparatusPreference");b("apparatusPreference",t.includes(e)?t.filter(t=>t!==e):[...t,e])},S=async()=>{u(!0);try{let e=!1;return await x(async t=>{y(t),e=!0})(),e}catch(e){return console.error("Form validation failed:",e),!1}finally{u(!1)}};return(0,r.jsx)(p,{onSubmit:S,isFirstStep:t,isLastStep:s,currentStep:n,isSubmitting:o,children:(0,r.jsxs)("form",{className:"space-y-8 max-w-md mx-auto px-2",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Pilates Preferences"}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Have you practiced Pilates before?"}),h.pilatesExperience&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.pilatesExperience.message}),(0,r.jsx)(a.xI,{name:"pilatesExperience",control:g,render:e=>{let{field:t}=e;return(0,r.jsxs)(z.z,{onValueChange:e=>t.onChange("true"===e),value:void 0!==t.value?t.value.toString():void 0,className:"flex space-x-4 mt-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(z.C,{value:"true",id:"pilates-yes"}),(0,r.jsx)("label",{htmlFor:"pilates-yes",className:"text-sm",children:"Yes"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(z.C,{value:"false",id:"pilates-no"}),(0,r.jsx)("label",{htmlFor:"pilates-no",className:"text-sm",children:"No"})]})]})}})]}),j&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"pilates-duration",className:"block text-sm font-medium text-gray-700",children:"How long have you been practicing Pilates?"}),h.pilatesDuration&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.pilatesDuration.message}),(0,r.jsx)(a.xI,{name:"pilatesDuration",control:g,render:e=>{let{field:t}=e;return(0,r.jsxs)(c.l6,{onValueChange:t.onChange,value:t.value,defaultValue:t.value,children:[(0,r.jsx)(c.bq,{className:"w-full",children:(0,r.jsx)(c.yv,{placeholder:"Select duration"})}),(0,r.jsx)(c.gC,{children:H._E.map(e=>(0,r.jsx)(c.eb,{value:e,children:e},e))})]})}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"studio-frequency",className:"block text-sm font-medium text-gray-700",children:"How often can you attend in-studio Pilates sessions?"}),h.studioFrequency&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.studioFrequency.message}),(0,r.jsx)(a.xI,{name:"studioFrequency",control:g,render:e=>{let{field:t}=e;return(0,r.jsxs)(c.l6,{onValueChange:t.onChange,value:t.value,defaultValue:t.value,children:[(0,r.jsx)(c.bq,{className:"w-full",children:(0,r.jsx)(c.yv,{placeholder:"Select frequency"})}),(0,r.jsx)(c.gC,{children:H.he.map(e=>(0,r.jsx)(c.eb,{value:e,children:e},e))})]})}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"session-preference",className:"block text-sm font-medium text-gray-700",children:"Do you prefer group classes or private sessions?"}),h.sessionPreference&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.sessionPreference.message}),(0,r.jsx)(a.xI,{name:"sessionPreference",control:g,render:e=>{let{field:t}=e;return(0,r.jsxs)(c.l6,{onValueChange:t.onChange,value:t.value,defaultValue:t.value,children:[(0,r.jsx)(c.bq,{className:"w-full",children:(0,r.jsx)(c.yv,{placeholder:"Select preference"})}),(0,r.jsx)(c.gC,{children:H.kT.map(e=>(0,r.jsx)(c.eb,{value:e,children:e},e))})]})}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-base font-medium text-gray-700 mb-4",children:"Are there specific Pilates apparatus you enjoy using or want to learn?"}),h.apparatusPreference&&(0,r.jsx)("p",{className:"mb-2 text-sm text-red-600",children:h.apparatusPreference.message}),(0,r.jsx)(a.xI,{name:"apparatusPreference",control:g,render:e=>{let{field:t}=e;return(0,r.jsx)(E.S,{options:H.d6,selectedValues:t.value,onChange:w})}}),(0,r.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,r.jsx)(d,{...m("customApparatus"),type:"text",placeholder:"Add custom apparatus",className:"flex-1"}),(0,r.jsx)("button",{type:"button",onClick:()=>{var e;let t=null!=(e=f("customApparatus"))?e:"";t.trim()&&(b("apparatusPreference",[...f("apparatusPreference"),t]),b("customApparatus",""))},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Add"})]}),(0,r.jsx)("div",{className:"mt-3 space-y-2",children:f("apparatusPreference").filter(e=>!["Reformer","Cadillac","Chair","Barrel","Tower","Mat work only","Not sure yet"].includes(e)).map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded-md",children:[(0,r.jsx)("span",{className:"text-sm text-gray-700",children:e}),(0,r.jsx)("button",{type:"button",onClick:()=>w(e),className:"text-red-600 hover:text-red-800",children:"Remove"})]},e))})]})]})]})})}function U(e){let{params:t}=e,{tab:s}=t;return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(()=>{let e=m.indexOf(s),t=0===e,a=e===m.length-1;switch(s){case"basic-info":return(0,r.jsx)(k,{isFirstStep:t,isLastStep:a,currentStep:s});case"fitness-background":return(0,r.jsx)(_,{isFirstStep:t,isLastStep:a,currentStep:s});case"health-considerations":return(0,r.jsx)(D,{isFirstStep:t,isLastStep:a,currentStep:s});case"goals":return(0,r.jsx)(T,{isFirstStep:t,isLastStep:a,currentStep:s});case"pilates":return(0,r.jsx)(M,{isFirstStep:t,isLastStep:a,currentStep:s});case"motivation":return(0,r.jsx)(R,{isFirstStep:t,isLastStep:a,currentStep:s});default:return(0,r.jsx)("div",{children:(0,r.jsx)("p",{children:"Invalid tab"})})}})()})}},7129:(e,t,s)=>{"use strict";s.d(t,{T:()=>i});var r=s(4568);s(7620);var a=s(3928);function i(e){let{className:t,...s}=e;return(0,r.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...s})}},7227:(e,t,s)=>{"use strict";s.d(t,{$:()=>o,r:()=>l});var r=s(4568);s(7620);var a=s(9649),i=s(615),n=s(3928);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-brand-warm-brown text-white shadow-warm hover:bg-brand-warm-brown/90",destructive:"bg-destructive text-white shadow-warm hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border border-brand-warm-brown bg-background text-brand-warm-brown shadow-warm hover:bg-brand-warm-brown hover:text-white dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-brand-deep-blue text-white shadow-warm hover:bg-brand-deep-blue/90",ghost:"text-brand-warm-brown hover:bg-brand-warm-brown/10 hover:text-brand-warm-brown dark:hover:bg-brand-warm-brown/50",link:"text-brand-warm-brown underline-offset-4 hover:underline",accent:"bg-brand-amber text-white shadow-warm hover:bg-brand-amber/90"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:s,size:i,asChild:o=!1,...d}=e,c=o?a.DX:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,n.cn)(l({variant:s,size:i,className:t})),...d})}},7707:(e,t,s)=>{"use strict";let r;s.d(t,{TRPCReactProvider:()=>g,F:()=>h});var a=s(4568),i=s(7606),n=s(8134),l=s(2690),o=s(7620),d=s(438),c=s(1354),u=s(8512);let m=()=>new c.E({defaultOptions:{queries:{staleTime:3e4},dehydrate:{serializeData:d.Ay.serialize,shouldDehydrateQuery:e=>(0,u.XS)(e)||"pending"===e.state.status},hydrate:{deserializeData:d.Ay.deserialize}}});s(4338);let x=()=>(null!=r||(r=m()),r),h=(0,l.pY)();function g(e){let t=x(),[s]=(0,o.useState)(()=>h.createClient({links:[(0,n.$H)({enabled:e=>"down"===e.direction&&e.result instanceof Error}),(0,n.N9)({transformer:d.Ay,url:"http://localhost:3001/trpc",headers:async()=>{let e=new Headers;e.set("x-trpc-source","nextjs-react");{let t=localStorage.getItem("supabase.auth.token");if(t){let s=JSON.parse(t);(null==s?void 0:s.access_token)&&e.set("authorization","Bearer ".concat(s.access_token))}}return e}})]}));return(0,a.jsx)(i.Ht,{client:t,children:(0,a.jsx)(h.Provider,{client:s,queryClient:t,children:e.children})})}},7840:(e,t,s)=>{"use strict";s.d(t,{b:()=>a,e:()=>r});let r=["Back pain","Neck pain","Arthritis","Osteoporosis","Hypertension","Diabetes","Heart condition","Respiratory condition","Asthma","None","Other"],a=["Not applicable","Pregnant","Postpartum (0-6 months)","Postpartum (6-12 months)"]}},e=>{var t=t=>e(e.s=t);e.O(0,[745,273,114,475,285,587,315,977],()=>t(4139)),_N_E=e.O()}]);