(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1154:e=>{e.exports={style:{fontFamily:"'JetBrains Mono', 'JetBrains Mono Fallback'",fontStyle:"normal"},className:"__className_3c557b",variable:"__variable_3c557b"}},1466:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(4568),n=s(7620),i=s(2942),a=s(7351);let l=["/auth","/api/trpc"];function o(e){let{children:t}=e,s=(0,i.useRouter)(),o=(0,i.usePathname)(),{user:c,isLoading:u}=(0,a.A)();return((0,n.useEffect)(()=>{if(u)return;let e=l.some(e=>o.startsWith(e));if(!c&&!e){let e=encodeURIComponent(o);s.push("/auth/sign-in?redirectedFrom=".concat(e))}},[c,u,o,s]),u)?(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"Loading..."}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Please wait while we check your session."})]})}):(0,r.jsx)(r.Fragment,{children:t})}},1503:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(8889).A)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3106:()=>{},3126:(e,t,s)=>{"use strict";s.d(t,{D:()=>l,ThemeProvider:()=>a});var r=s(4568),n=s(7620);let i=(0,n.createContext)({theme:"system",setTheme:()=>null});function a(e){let{children:t,defaultTheme:s="system",storageKey:a="theme",...l}=e,[o,c]=(0,n.useState)(()=>"undefined"!=typeof localStorage&&localStorage.getItem(a)||s);return(0,n.useEffect)(()=>{let e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===o){let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(t);return}e.classList.add(o)},[o]),(0,r.jsx)(i.Provider,{...l,value:{theme:o,setTheme:e=>{localStorage.setItem(a,e),c(e)}},children:t})}let l=()=>{let e=(0,n.useContext)(i);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},3928:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var r=s(2987),n=s(607);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.QP)((0,r.$)(t))}},4650:e=>{e.exports={style:{fontFamily:"'Space Grotesk', 'Space Grotesk Fallback'",fontStyle:"normal"},className:"__className_bc0dcf",variable:"__variable_bc0dcf"}},5985:(e,t,s)=>{"use strict";s.d(t,{BottomNavbar:()=>f});var r=s(4568),n=s(7261),i=s.n(n),a=s(3928),l=s(6043),o=s(2942),c=s(8889);let u=(0,c.A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var h=s(3991),d=s(9594);let m=(0,c.A)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var p=s(7277);function g(e){let{progress:t,className:s}=e,n=2*Math.PI*12;return(0,r.jsxs)("div",{className:(0,a.cn)("relative w-6 h-6",s),children:[(0,r.jsxs)("svg",{className:"w-6 h-6 transform -rotate-90",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"text-gray-200",strokeWidth:"2",stroke:"currentColor",fill:"transparent",r:12,cx:"12",cy:"12"}),(0,r.jsx)("circle",{className:(0,a.cn)("transition-all duration-300 ease-in-out",t>=90?"text-green-500":t>=50?"text-blue-500":"text-gray-500"),strokeWidth:"2",strokeDasharray:n,strokeDashoffset:n-t/100*n,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:12,cx:"12",cy:"12"})]}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)(d.A,{className:"w-3 h-3"})})]})}function f(){var e;let t=(0,o.usePathname)(),s=null!=(e=t.split("/").pop())?e:"overview",{totalCompletion:n}=(0,p.h)();if(t.includes("/onboarding"))return null;let c=[{name:"Home",href:"/dashboard/overview",icon:u,tab:"overview"},{name:"Your Plan",href:"/dashboard/your-plan",icon:h.A,tab:"your-plan"},{name:"MyPT",href:"/dashboard/mypt",icon:d.A,tab:"mypt"},{name:"History",href:"/dashboard/history",icon:m,tab:"history"},{name:"Profile",href:"/profile",icon:d.A,tab:"profile",showProgress:!0}];return(0,r.jsx)(l.P.nav,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50",children:(0,r.jsx)("div",{className:"flex items-center justify-around h-16",children:c.map(e=>(0,r.jsxs)(i(),{href:e.href,className:(0,a.cn)("flex flex-col items-center justify-center w-full h-full",s===e.tab?"text-primary":"text-gray-500"),children:[e.showProgress?(0,r.jsx)(g,{progress:null!=n?n:0}):(0,r.jsx)(e.icon,{className:"w-6 h-6"}),(0,r.jsx)("span",{className:"text-xs mt-1",children:e.name})]},e.tab))})})}},7277:(e,t,s)=>{"use strict";s.d(t,{h:()=>d});var r=s(4568),n=s(7620),i=s(7707),a=s(9594),l=s(5516);let o=(0,s(8889).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var c=s(1503),u=s(1778),h=s(5440);function d(){let{data:e,isLoading:t}=i.F.onboarding.getOnboardingData.useQuery(),s=(0,n.useMemo)(()=>{var t,s,r,n,i,a,l,o,c,u,h,d,m,p;return e?{basicQuestion:{name:e.name,age:e.age,height:e.height,weight:e.weight,gender:e.gender},fitnessBg:{fitnessLevel:e.fitnessLevel,exercises:null!=(s=e.exercises)?s:[],exerciseFrequency:e.exerciseFrequency,sessionLength:e.sessionLength,customExercise:null!=(r=null==(t=e.otherExercises)?void 0:t[0])?r:null},goals:{fitnessGoals:null!=(n=e.fitnessGoals)?n:[],goalTimeline:e.goalTimeline,specificGoals:e.specificGoals},healthCons:{injuries:null!=(i=e.injuries)?i:null,recentSurgery:null!=(a=e.recentSurgery)?a:null,chronicConditions:null!=(l=e.chronicConditions)?l:[],pregnancy:e.pregnancy,injuriesDetails:e.injuriesDetails,surgeryDetails:e.surgeryDetails,otherHealthConditions:null!=(o=e.otherHealthConditions)?o:[]},pilates:{pilatesExperience:null!=(c=e.pilatesExperience)?c:null,pilatesDuration:e.pilatesDuration,studioFrequency:e.studioFrequency,sessionPreference:e.sessionPreference,apparatusPreference:null!=(u=e.apparatusPreference)?u:[],customApparatus:e.customApparatus},motivation:{motivation:null!=(h=e.motivation)?h:[],progressTracking:null!=(d=e.progressTracking)?d:[],otherMotivation:null!=(m=e.otherMotivation)?m:[],otherProgressTracking:null!=(p=e.otherProgressTracking)?p:[]}}:null},[e]),d=e=>{if(!s)return 0;let t=s[e];if(!t)return 0;let r=0,n=0;switch(e){case"basicQuestion":r=5,n=[t.name,t.age,t.height,t.weight,t.gender].filter(e=>null!==e).length;break;case"fitnessBg":r=4+ +!!t.exercises.includes("Other"),n=[t.fitnessLevel,t.exercises.length>0,t.exerciseFrequency,t.sessionLength,t.exercises.includes("Other")?null!==t.customExercise:null].filter(Boolean).length;break;case"goals":r=3,n=[t.fitnessGoals.length>0,t.goalTimeline,t.specificGoals].filter(Boolean).length;break;case"healthCons":r=4+ +!!t.chronicConditions.includes("Other")+ +!!t.injuries+ +!!t.recentSurgery,n=[null!==t.injuries,null!==t.recentSurgery,t.chronicConditions.length>0,t.pregnancy,t.injuriesDetails,t.surgeryDetails,t.chronicConditions.includes("Other")?t.otherHealthConditions.length>0:null].filter(Boolean).length;break;case"motivation":r=2+ +!!t.motivation.includes("Other")+ +!!t.progressTracking.includes("Other"),n=[t.motivation.length>0,t.progressTracking.length>0,t.motivation.includes("Other")?t.otherMotivation.length>0:null,t.progressTracking.includes("Other")?t.otherProgressTracking.length>0:null].filter(Boolean).length;break;case"pilates":r=4+ +!!t.pilatesExperience+ +!!t.apparatusPreference.includes("Other"),n=[null!==t.pilatesExperience,t.pilatesExperience?null!==t.pilatesDuration:null,null!==t.studioFrequency,null!==t.sessionPreference,t.apparatusPreference.length>0,t.apparatusPreference.includes("Other")?null!==t.customApparatus:null].filter(Boolean).length}return Math.round(n/r*100)},m=(0,n.useMemo)(()=>[{type:"basicQuestion",title:"Basic Info",description:"Tell us about yourself",icon:(0,r.jsx)(a.A,{className:"w-5 h-5"}),completion:d("basicQuestion"),color:"#007AFF"},{type:"fitnessBg",title:"Fitness Background",description:"Your exercise history",icon:(0,r.jsx)(l.A,{className:"w-5 h-5"}),completion:d("fitnessBg"),color:"#FF9500"},{type:"goals",title:"Goals",description:"What you want to achieve",icon:(0,r.jsx)(o,{className:"w-5 h-5"}),completion:d("goals"),color:"#FF2D55"},{type:"healthCons",title:"Health Considerations",description:"Important health information",icon:(0,r.jsx)(c.A,{className:"w-5 h-5"}),completion:d("healthCons"),color:"#5856D6"},{type:"motivation",title:"Motivation",description:"What drives you",icon:(0,r.jsx)(u.A,{className:"w-5 h-5"}),completion:d("motivation"),color:"#FFCC00"},{type:"pilates",title:"Pilates",description:"Your Pilates experience",icon:(0,r.jsx)(h.A,{className:"w-5 h-5"}),completion:d("pilates"),color:"#34C759"}],[d,s]),p=(0,n.useMemo)(()=>s?Math.round(m.reduce((e,t)=>e+t.completion,0)/m.length):0,[m]);return{isLoading:t,formData:s,formSections:m,totalCompletion:p,calculateCompletion:d}}},7351:(e,t,s)=>{"use strict";s.d(t,{A:()=>o,AuthProvider:()=>l});var r=s(4568),n=s(7620),i=s(3798);let a=(0,n.createContext)(void 0);function l(e){let{children:t}=e,[s,l]=(0,n.useState)(null),[o,c]=(0,n.useState)(null),[u,h]=(0,n.useState)(!0),d=(0,i.createBrowserClient)("https://rflvcogfitcffdappsuz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJmbHZjb2dmaXRjZmZkYXBwc3V6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcxOTcyNzgsImV4cCI6MjA2Mjc3MzI3OH0.zVNAVlaN30AFyCdduvsFdU0CjB9n3_ftCfXa8aX8Wds");(0,n.useEffect)(()=>{(async()=>{var e;let{data:{session:t},error:s}=await d.auth.getSession();if(s)return console.error("Error getting session:",s);c(t),l(null!=(e=null==t?void 0:t.user)?e:null),h(!1)})();let{data:{subscription:e}}=d.auth.onAuthStateChange((e,t)=>{var s;c(t),l(null!=(s=null==t?void 0:t.user)?s:null),h(!1)});return()=>{e.unsubscribe()}},[]);let m=async()=>{await d.auth.signOut(),l(null),c(null)};return(0,r.jsx)(a.Provider,{value:{user:s,session:o,isLoading:u,signOut:m},children:t})}function o(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7707:(e,t,s)=>{"use strict";let r;s.d(t,{TRPCReactProvider:()=>g,F:()=>p});var n=s(4568),i=s(7606),a=s(8134),l=s(2690),o=s(7620),c=s(438),u=s(1354),h=s(8512);let d=()=>new u.E({defaultOptions:{queries:{staleTime:3e4},dehydrate:{serializeData:c.Ay.serialize,shouldDehydrateQuery:e=>(0,h.XS)(e)||"pending"===e.state.status},hydrate:{deserializeData:c.Ay.deserialize}}});s(4338);let m=()=>(null!=r||(r=d()),r),p=(0,l.pY)();function g(e){let t=m(),[s]=(0,o.useState)(()=>p.createClient({links:[(0,a.$H)({enabled:e=>"down"===e.direction&&e.result instanceof Error}),(0,a.N9)({transformer:c.Ay,url:"http://localhost:3001/trpc",headers:async()=>{let e=new Headers;e.set("x-trpc-source","nextjs-react");{let t=localStorage.getItem("supabase.auth.token");if(t){let s=JSON.parse(t);(null==s?void 0:s.access_token)&&e.set("authorization","Bearer ".concat(s.access_token))}}return e}})]}));return(0,n.jsx)(i.Ht,{client:t,children:(0,n.jsx)(p.Provider,{client:s,queryClient:t,children:e.children})})}},9238:(e,t,s)=>{Promise.resolve().then(s.bind(s,7351)),Promise.resolve().then(s.bind(s,3126)),Promise.resolve().then(s.bind(s,1466)),Promise.resolve().then(s.bind(s,5985)),Promise.resolve().then(s.t.bind(s,3106,23)),Promise.resolve().then(s.bind(s,7707)),Promise.resolve().then(s.t.bind(s,4650,23)),Promise.resolve().then(s.t.bind(s,1154,23)),Promise.resolve().then(s.bind(s,1874))},9594:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(8889).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[26,22,745,43,874,273,125,362,587,315,977],()=>t(9238)),_N_E=e.O()}]);